<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ERIS CORE: wren_compiler.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ERIS CORE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d7/db9/wren__compiler_8h.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">wren_compiler.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../dd/d19/wren_8h_source.html">wren.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d0a/wren__value_8h_source.html">wren_value.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for wren_compiler.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/db3/wren__compiler_8h__incl.svg" width="516" height="350"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d98/wren__compiler_8h__dep__incl.svg" width="100%" height="504"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div>
<p><a href="../../d7/db9/wren__compiler_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a49ab53997891041cac4a764241f75e81"><td class="memItemLeft" align="right" valign="top">typedef struct sCompiler&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db9/wren__compiler_8h.html#a49ab53997891041cac4a764241f75e81">Compiler</a></td></tr>
<tr class="separator:a49ab53997891041cac4a764241f75e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af83f50d55db1a996342186451b31d699"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db9/wren__compiler_8h.html#af83f50d55db1a996342186451b31d699">wrenBindMethodCode</a> (<a class="el" href="../../d2/d0a/wren__value_8h.html#add9af3bbbff50487a828cc04d596e755">ObjClass</a> *classObj, <a class="el" href="../../df/d87/struct_obj_fn.html">ObjFn</a> *<a class="el" href="../../d0/de9/receiver-less_01calls_012_8txt.html#a5d69482e1e5c9b54df78b8f9595d7952">fn</a>)</td></tr>
<tr class="separator:af83f50d55db1a996342186451b31d699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedcc023430c3c9b1891dbdc4f7b8f0b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d87/struct_obj_fn.html">ObjFn</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db9/wren__compiler_8h.html#aedcc023430c3c9b1891dbdc4f7b8f0b8">wrenCompile</a> (<a class="el" href="../../d7/ddb/struct_wren_v_m.html">WrenVM</a> *vm, <a class="el" href="../../df/d81/struct_obj_module.html">ObjModule</a> *module, const char *<a class="el" href="../../dd/df8/lz4_8h.html#a0211201f992ec3f0b641c9ceff5f837a">source</a>, bool isExpression, bool printErrors)</td></tr>
<tr class="separator:aedcc023430c3c9b1891dbdc4f7b8f0b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9fe190a3aeb1626737b30b2c4f90f0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db9/wren__compiler_8h.html#ae9fe190a3aeb1626737b30b2c4f90f0a">wrenMarkCompiler</a> (<a class="el" href="../../d7/ddb/struct_wren_v_m.html">WrenVM</a> *vm, <a class="el" href="../../d7/db9/wren__compiler_8h.html#a49ab53997891041cac4a764241f75e81">Compiler</a> *compiler)</td></tr>
<tr class="separator:ae9fe190a3aeb1626737b30b2c4f90f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a49ab53997891041cac4a764241f75e81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49ab53997891041cac4a764241f75e81">&#9670;&nbsp;</a></span>Compiler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct sCompiler <a class="el" href="../../d7/db9/wren__compiler_8h.html#a49ab53997891041cac4a764241f75e81">Compiler</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/db9/wren__compiler_8h_source.html#l00001">1</a> of file <a class="el" href="../../d7/db9/wren__compiler_8h_source.html">wren_compiler.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af83f50d55db1a996342186451b31d699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af83f50d55db1a996342186451b31d699">&#9670;&nbsp;</a></span>wrenBindMethodCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wrenBindMethodCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d0a/wren__value_8h.html#add9af3bbbff50487a828cc04d596e755">ObjClass</a> *&#160;</td>
          <td class="paramname"><em>classObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d87/struct_obj_fn.html">ObjFn</a> *&#160;</td>
          <td class="paramname"><em>fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l03843">3843</a> of file <a class="el" href="../../d4/de2/wren__compiler_8c_source.html">wren_compiler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;{</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;  <span class="keywordtype">int</span> ip = 0;</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;  <span class="keywordflow">for</span> (;;)</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;  {</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;    <a class="code" href="../../d5/db1/wren__vm_8h.html#af31477bc48f67856bedb0fa8e5b5281d">Code</a> instruction = (<a class="code" href="../../d5/db1/wren__vm_8h.html#af31477bc48f67856bedb0fa8e5b5281d">Code</a>)<a class="code" href="../../d0/de9/receiver-less_01calls_012_8txt.html#a5d69482e1e5c9b54df78b8f9595d7952">fn</a>-&gt;code.data[ip];</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;    switch (instruction)</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;    {</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;      <span class="keywordflow">case</span> CODE_LOAD_FIELD:</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;      <span class="keywordflow">case</span> CODE_STORE_FIELD:</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;      <span class="keywordflow">case</span> CODE_LOAD_FIELD_THIS:</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;      <span class="keywordflow">case</span> CODE_STORE_FIELD_THIS:</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;        <span class="comment">// Shift this class&#39;s fields down past the inherited ones. We don&#39;t</span></div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;        <span class="comment">// check for overflow here because we&#39;ll see if the number of fields</span></div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;        <span class="comment">// overflows when the subclass is created.</span></div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;        <a class="code" href="../../d0/de9/receiver-less_01calls_012_8txt.html#a5d69482e1e5c9b54df78b8f9595d7952">fn</a>-&gt;code.data[ip + 1] += classObj-&gt;<a class="code" href="../../d7/d64/structs_obj_class.html#aaf47565ed24938493d4d74d17df44f31">superclass</a>-&gt;<a class="code" href="../../d7/d64/structs_obj_class.html#a402a4244ac7fb9e015a7c170b801bcd9">numFields</a>;</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160; </div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_0:</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_1:</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_2:</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_3:</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_4:</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_5:</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_6:</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_7:</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_8:</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_9:</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_10:</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_11:</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_12:</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_13:</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_14:</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_15:</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;      <span class="keywordflow">case</span> CODE_SUPER_16:</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;      {</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;        <span class="comment">// Fill in the constant slot with a reference to the superclass.</span></div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;        <span class="keywordtype">int</span> constant = (<a class="code" href="../../d0/de9/receiver-less_01calls_012_8txt.html#a5d69482e1e5c9b54df78b8f9595d7952">fn</a>-&gt;code.data[ip + 3] &lt;&lt; 8) | <a class="code" href="../../d0/de9/receiver-less_01calls_012_8txt.html#a5d69482e1e5c9b54df78b8f9595d7952">fn</a>-&gt;code.data[ip + 4];</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;        <a class="code" href="../../d0/de9/receiver-less_01calls_012_8txt.html#a5d69482e1e5c9b54df78b8f9595d7952">fn</a>-&gt;constants.data[constant] = <a class="code" href="../../d2/d0a/wren__value_8h.html#ae686330cf8b06442b1da208af1b867fc">OBJ_VAL</a>(classObj-&gt;<a class="code" href="../../d7/d64/structs_obj_class.html#aaf47565ed24938493d4d74d17df44f31">superclass</a>);</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;      }</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160; </div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;      <span class="keywordflow">case</span> CODE_CLOSURE:</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;      {</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;        <span class="comment">// Bind the nested closure too.</span></div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;        <span class="keywordtype">int</span> constant = (<a class="code" href="../../d0/de9/receiver-less_01calls_012_8txt.html#a5d69482e1e5c9b54df78b8f9595d7952">fn</a>-&gt;code.data[ip + 1] &lt;&lt; 8) | <a class="code" href="../../d0/de9/receiver-less_01calls_012_8txt.html#a5d69482e1e5c9b54df78b8f9595d7952">fn</a>-&gt;code.data[ip + 2];</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;        <a class="code" href="../../d4/de2/wren__compiler_8c.html#af83f50d55db1a996342186451b31d699">wrenBindMethodCode</a>(classObj, <a class="code" href="../../d2/d0a/wren__value_8h.html#a49e112f611425c34766bdefa343fe2b9">AS_FN</a>(<a class="code" href="../../d0/de9/receiver-less_01calls_012_8txt.html#a5d69482e1e5c9b54df78b8f9595d7952">fn</a>-&gt;constants.data[constant]));</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;      }</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160; </div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;      <span class="keywordflow">case</span> CODE_END:</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160; </div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;        <span class="comment">// Other instructions are unaffected, so just skip over them.</span></div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;    }</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;    ip += 1 + <a class="code" href="../../d4/de2/wren__compiler_8c.html#afd57b3f70dd82ffc95f0442863f34ad6">getByteCountForArguments</a>(<a class="code" href="../../d0/de9/receiver-less_01calls_012_8txt.html#a5d69482e1e5c9b54df78b8f9595d7952">fn</a>-&gt;code.data, <a class="code" href="../../d0/de9/receiver-less_01calls_012_8txt.html#a5d69482e1e5c9b54df78b8f9595d7952">fn</a>-&gt;constants.data, ip);</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;  }</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;}</div>
<div class="ttc" id="areceiver-less_01calls_012_8txt_html_a5d69482e1e5c9b54df78b8f9595d7952"><div class="ttname"><a href="../../d0/de9/receiver-less_01calls_012_8txt.html#a5d69482e1e5c9b54df78b8f9595d7952">fn</a></div><div class="ttdeci">var how do we tell if it we see if there are any private getters that were not implemented and define implicit getters for them that return fields That s weird if you take into account though compile it to getter call Then see setter defined for so we no longer implicitly make a field But there s no so now the above call will fail Probably do want call to fail so that may be OK Given how do we tell if it which returns a field that s a fn</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/de9/receiver-less_01calls_012_8txt_source.html#l00048">receiver-less calls 2.txt:48</a></div></div>
<div class="ttc" id="astructs_obj_class_html_a402a4244ac7fb9e015a7c170b801bcd9"><div class="ttname"><a href="../../d7/d64/structs_obj_class.html#a402a4244ac7fb9e015a7c170b801bcd9">sObjClass::numFields</a></div><div class="ttdeci">int numFields</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0a/wren__value_8h_source.html#l00399">wren_value.h:399</a></div></div>
<div class="ttc" id="astructs_obj_class_html_aaf47565ed24938493d4d74d17df44f31"><div class="ttname"><a href="../../d7/d64/structs_obj_class.html#aaf47565ed24938493d4d74d17df44f31">sObjClass::superclass</a></div><div class="ttdeci">ObjClass * superclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0a/wren__value_8h_source.html#l00395">wren_value.h:395</a></div></div>
<div class="ttc" id="awren__compiler_8c_html_af83f50d55db1a996342186451b31d699"><div class="ttname"><a href="../../d4/de2/wren__compiler_8c.html#af83f50d55db1a996342186451b31d699">wrenBindMethodCode</a></div><div class="ttdeci">void wrenBindMethodCode(ObjClass *classObj, ObjFn *fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/wren__compiler_8c_source.html#l03843">wren_compiler.c:3843</a></div></div>
<div class="ttc" id="awren__compiler_8c_html_afd57b3f70dd82ffc95f0442863f34ad6"><div class="ttname"><a href="../../d4/de2/wren__compiler_8c.html#afd57b3f70dd82ffc95f0442863f34ad6">getByteCountForArguments</a></div><div class="ttdeci">static int getByteCountForArguments(const uint8_t *bytecode, const Value *constants, int ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/wren__compiler_8c_source.html#l02862">wren_compiler.c:2862</a></div></div>
<div class="ttc" id="awren__value_8h_html_a49e112f611425c34766bdefa343fe2b9"><div class="ttname"><a href="../../d2/d0a/wren__value_8h.html#a49e112f611425c34766bdefa343fe2b9">AS_FN</a></div><div class="ttdeci">#define AS_FN(value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0a/wren__value_8h_source.html#l00052">wren_value.h:52</a></div></div>
<div class="ttc" id="awren__value_8h_html_ae686330cf8b06442b1da208af1b867fc"><div class="ttname"><a href="../../d2/d0a/wren__value_8h.html#ae686330cf8b06442b1da208af1b867fc">OBJ_VAL</a></div><div class="ttdeci">#define OBJ_VAL(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0a/wren__value_8h_source.html#l00068">wren_value.h:68</a></div></div>
<div class="ttc" id="awren__vm_8h_html_af31477bc48f67856bedb0fa8e5b5281d"><div class="ttname"><a href="../../d5/db1/wren__vm_8h.html#af31477bc48f67856bedb0fa8e5b5281d">Code</a></div><div class="ttdeci">Code</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db1/wren__vm_8h_source.html#l00013">wren_vm.h:14</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/d0a/wren__value_8h_source.html#l00052">AS_FN</a>, <a class="el" href="../../d0/de9/receiver-less_01calls_012_8txt_source.html#l00048">fn</a>, <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l02862">getByteCountForArguments()</a>, <a class="el" href="../../d2/d0a/wren__value_8h_source.html#l00399">sObjClass::numFields</a>, <a class="el" href="../../d2/d0a/wren__value_8h_source.html#l00068">OBJ_VAL</a>, and <a class="el" href="../../d2/d0a/wren__value_8h_source.html#l00395">sObjClass::superclass</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/db2/wren__vm_8c_source.html#l00348">bindMethod()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/db9/wren__compiler_8h_af83f50d55db1a996342186451b31d699_cgraph.svg" width="452" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db9/wren__compiler_8h_af83f50d55db1a996342186451b31d699_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aedcc023430c3c9b1891dbdc4f7b8f0b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedcc023430c3c9b1891dbdc4f7b8f0b8">&#9670;&nbsp;</a></span>wrenCompile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d87/struct_obj_fn.html">ObjFn</a>* wrenCompile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/ddb/struct_wren_v_m.html">WrenVM</a> *&#160;</td>
          <td class="paramname"><em>vm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d81/struct_obj_module.html">ObjModule</a> *&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isExpression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>printErrors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l03762">3762</a> of file <a class="el" href="../../d4/de2/wren__compiler_8c_source.html">wren_compiler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;{</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;  <span class="comment">// Skip the UTF-8 BOM if there is one.</span></div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;  <span class="keywordflow">if</span> (strncmp(<a class="code" href="../../dd/df8/lz4_8h.html#a0211201f992ec3f0b641c9ceff5f837a">source</a>, <span class="stringliteral">&quot;\xEF\xBB\xBF&quot;</span>, 3) == 0) <a class="code" href="../../dd/df8/lz4_8h.html#a0211201f992ec3f0b641c9ceff5f837a">source</a> += 3;</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;  </div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;  Parser parser;</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;  parser.vm = vm;</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;  parser.module = module;</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;  parser.source = <a class="code" href="../../dd/df8/lz4_8h.html#a0211201f992ec3f0b641c9ceff5f837a">source</a>;</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160; </div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;  parser.tokenStart = <a class="code" href="../../dd/df8/lz4_8h.html#a0211201f992ec3f0b641c9ceff5f837a">source</a>;</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;  parser.currentChar = <a class="code" href="../../dd/df8/lz4_8h.html#a0211201f992ec3f0b641c9ceff5f837a">source</a>;</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;  parser.currentLine = 1;</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;  parser.numParens = 0;</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160; </div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;  <span class="comment">// Zero-init the current token. This will get copied to previous when</span></div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;  <span class="comment">// nextToken() is called below.</span></div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;  parser.next.type = <a class="code" href="../../d4/de2/wren__compiler_8c.html#aa520fbf142ba1e7e659590c07da31921abbfc577192f2423b39a5f693e260b615">TOKEN_ERROR</a>;</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;  parser.next.start = <a class="code" href="../../dd/df8/lz4_8h.html#a0211201f992ec3f0b641c9ceff5f837a">source</a>;</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;  parser.next.length = 0;</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;  parser.next.line = 0;</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;  parser.next.value = <a class="code" href="../../d2/d0a/wren__value_8h.html#a07ae6a286fd2358c66dad2df086ca785">UNDEFINED_VAL</a>;</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160; </div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;  parser.printErrors = printErrors;</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;  parser.hasError = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160; </div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;  <span class="comment">// Read the first token into next</span></div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;  <a class="code" href="../../d4/de2/wren__compiler_8c.html#aff9308c9745d77724d06dbc7f1e7bd34">nextToken</a>(&amp;parser);</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;  <span class="comment">// Copy next -&gt; current</span></div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;  <a class="code" href="../../d4/de2/wren__compiler_8c.html#aff9308c9745d77724d06dbc7f1e7bd34">nextToken</a>(&amp;parser);</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160; </div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;  <span class="keywordtype">int</span> numExistingVariables = module-&gt;<a class="code" href="../../df/d81/struct_obj_module.html#ac4b3cf584974743fb71a1b73e6b5877c">variables</a>.count;</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160; </div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;  <a class="code" href="../../d7/db9/wren__compiler_8h.html#a49ab53997891041cac4a764241f75e81">Compiler</a> compiler;</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;  <a class="code" href="../../d4/de2/wren__compiler_8c.html#a9cd38e83591679b9d3f9079885746744">initCompiler</a>(&amp;compiler, &amp;parser, <a class="code" href="../../da/d2d/_stdio_stream_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;  <a class="code" href="../../d4/de2/wren__compiler_8c.html#acbf1748d7e097833a292ee0caaa50d05">ignoreNewlines</a>(&amp;compiler);</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160; </div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;  <span class="keywordflow">if</span> (isExpression)</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;  {</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;    <a class="code" href="../../d4/de2/wren__compiler_8c.html#ac20f67474558b6bf12fd74dd573ee7af">expression</a>(&amp;compiler);</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;    <a class="code" href="../../d4/de2/wren__compiler_8c.html#aed515d74eb0faafbaa8d63f05daf90b9">consume</a>(&amp;compiler, <a class="code" href="../../d4/de2/wren__compiler_8c.html#aa520fbf142ba1e7e659590c07da31921aa130df27256cd45f5781fc74deeb50dc">TOKEN_EOF</a>, <span class="stringliteral">&quot;Expect end of expression.&quot;</span>);</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;  }</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;  {</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;    <span class="keywordflow">while</span> (!<a class="code" href="../../d4/de2/wren__compiler_8c.html#af4fe195796c3e700b61d62dafd263295">match</a>(&amp;compiler, <a class="code" href="../../d4/de2/wren__compiler_8c.html#aa520fbf142ba1e7e659590c07da31921aa130df27256cd45f5781fc74deeb50dc">TOKEN_EOF</a>))</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;    {</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;      <a class="code" href="../../d4/de2/wren__compiler_8c.html#a3909aa8ee9218228fe302cab2e0d5d2f">definition</a>(&amp;compiler);</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;      </div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;      <span class="comment">// If there is no newline, it must be the end of file on the same line.</span></div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d4/de2/wren__compiler_8c.html#a0c05f397ec8eb9dd3f5994287510b132">matchLine</a>(&amp;compiler))</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;      {</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;        <a class="code" href="../../d4/de2/wren__compiler_8c.html#aed515d74eb0faafbaa8d63f05daf90b9">consume</a>(&amp;compiler, <a class="code" href="../../d4/de2/wren__compiler_8c.html#aa520fbf142ba1e7e659590c07da31921aa130df27256cd45f5781fc74deeb50dc">TOKEN_EOF</a>, <span class="stringliteral">&quot;Expect end of file.&quot;</span>);</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;      }</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;    }</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;    </div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;    <a class="code" href="../../d4/de2/wren__compiler_8c.html#a9cfaefaddfdf6eff5163d9638d141200">emitOp</a>(&amp;compiler, CODE_END_MODULE);</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;  }</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;  </div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;  <a class="code" href="../../d4/de2/wren__compiler_8c.html#a9cfaefaddfdf6eff5163d9638d141200">emitOp</a>(&amp;compiler, CODE_RETURN);</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160; </div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;  <span class="comment">// See if there are any implicitly declared module-level variables that never</span></div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;  <span class="comment">// got an explicit definition. They will have values that are numbers</span></div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;  <span class="comment">// indicating the line where the variable was first used.</span></div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = numExistingVariables; i &lt; parser.module-&gt;variables.count; i++)</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;  {</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d0a/wren__value_8h.html#a513670ecdc3cb3fce1d696b5892aa691">IS_NUM</a>(parser.module-&gt;variables.data[i]))</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;    {</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;      <span class="comment">// Synthesize a token for the original use site.</span></div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;      parser.previous.type = <a class="code" href="../../d4/de2/wren__compiler_8c.html#aa520fbf142ba1e7e659590c07da31921a56d9afac7a1508302f85a77d1f3ba8b2">TOKEN_NAME</a>;</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;      parser.previous.start = parser.module-&gt;variableNames.data[i]-&gt;value;</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;      parser.previous.length = parser.module-&gt;variableNames.data[i]-&gt;length;</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;      parser.previous.line = (int)<a class="code" href="../../d2/d0a/wren__value_8h.html#a254dfa03c8d1065fcef554fc8763e65f">AS_NUM</a>(parser.module-&gt;variables.data[i]);</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;      <a class="code" href="../../d4/de2/wren__compiler_8c.html#ae74f1b74c02154518d7162a728d6118a">error</a>(&amp;compiler, <span class="stringliteral">&quot;Variable is used but not defined.&quot;</span>);</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;    }</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;  }</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;  </div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d4/de2/wren__compiler_8c.html#a3d81a8f8607a9b8236f1e6e49410581a">endCompiler</a>(&amp;compiler, <span class="stringliteral">&quot;(script)&quot;</span>, 8);</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;}</div>
<div class="ttc" id="a_stdio_stream_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d2d/_stdio_stream_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2d/_stdio_stream_8h_source.html#l00092">StdioStream.h:92</a></div></div>
<div class="ttc" id="alz4_8h_html_a0211201f992ec3f0b641c9ceff5f837a"><div class="ttname"><a href="../../dd/df8/lz4_8h.html#a0211201f992ec3f0b641c9ceff5f837a">source</a></div><div class="ttdeci">const char * source</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df8/lz4_8h_source.html#l00699">lz4.h:699</a></div></div>
<div class="ttc" id="astruct_obj_module_html_ac4b3cf584974743fb71a1b73e6b5877c"><div class="ttname"><a href="../../df/d81/struct_obj_module.html#ac4b3cf584974743fb71a1b73e6b5877c">ObjModule::variables</a></div><div class="ttdeci">ValueBuffer variables</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0a/wren__value_8h_source.html#l00229">wren_value.h:229</a></div></div>
<div class="ttc" id="awren__compiler_8c_html_a0c05f397ec8eb9dd3f5994287510b132"><div class="ttname"><a href="../../d4/de2/wren__compiler_8c.html#a0c05f397ec8eb9dd3f5994287510b132">matchLine</a></div><div class="ttdeci">static bool matchLine(Compiler *compiler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/wren__compiler_8c_source.html#l01281">wren_compiler.c:1281</a></div></div>
<div class="ttc" id="awren__compiler_8c_html_a3909aa8ee9218228fe302cab2e0d5d2f"><div class="ttname"><a href="../../d4/de2/wren__compiler_8c.html#a3909aa8ee9218228fe302cab2e0d5d2f">definition</a></div><div class="ttdeci">static void definition(Compiler *compiler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/wren__compiler_8c_source.html#l03727">wren_compiler.c:3727</a></div></div>
<div class="ttc" id="awren__compiler_8c_html_a3d81a8f8607a9b8236f1e6e49410581a"><div class="ttname"><a href="../../d4/de2/wren__compiler_8c.html#a3d81a8f8607a9b8236f1e6e49410581a">endCompiler</a></div><div class="ttdeci">static ObjFn * endCompiler(Compiler *compiler, const char *debugName, int debugNameLength)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/wren__compiler_8c_source.html#l01661">wren_compiler.c:1661</a></div></div>
<div class="ttc" id="awren__compiler_8c_html_a9cd38e83591679b9d3f9079885746744"><div class="ttname"><a href="../../d4/de2/wren__compiler_8c.html#a9cd38e83591679b9d3f9079885746744">initCompiler</a></div><div class="ttdeci">static void initCompiler(Compiler *compiler, Parser *parser, Compiler *parent, bool isMethod)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/wren__compiler_8c_source.html#l00532">wren_compiler.c:532</a></div></div>
<div class="ttc" id="awren__compiler_8c_html_a9cfaefaddfdf6eff5163d9638d141200"><div class="ttname"><a href="../../d4/de2/wren__compiler_8c.html#a9cfaefaddfdf6eff5163d9638d141200">emitOp</a></div><div class="ttdeci">static void emitOp(Compiler *compiler, Code instruction)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/wren__compiler_8c_source.html#l01324">wren_compiler.c:1324</a></div></div>
<div class="ttc" id="awren__compiler_8c_html_aa520fbf142ba1e7e659590c07da31921a56d9afac7a1508302f85a77d1f3ba8b2"><div class="ttname"><a href="../../d4/de2/wren__compiler_8c.html#aa520fbf142ba1e7e659590c07da31921a56d9afac7a1508302f85a77d1f3ba8b2">TOKEN_NAME</a></div><div class="ttdeci">@ TOKEN_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/wren__compiler_8c_source.html#l00114">wren_compiler.c:114</a></div></div>
<div class="ttc" id="awren__compiler_8c_html_aa520fbf142ba1e7e659590c07da31921aa130df27256cd45f5781fc74deeb50dc"><div class="ttname"><a href="../../d4/de2/wren__compiler_8c.html#aa520fbf142ba1e7e659590c07da31921aa130df27256cd45f5781fc74deeb50dc">TOKEN_EOF</a></div><div class="ttdeci">@ TOKEN_EOF</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/wren__compiler_8c_source.html#l00139">wren_compiler.c:138</a></div></div>
<div class="ttc" id="awren__compiler_8c_html_aa520fbf142ba1e7e659590c07da31921abbfc577192f2423b39a5f693e260b615"><div class="ttname"><a href="../../d4/de2/wren__compiler_8c.html#aa520fbf142ba1e7e659590c07da31921abbfc577192f2423b39a5f693e260b615">TOKEN_ERROR</a></div><div class="ttdeci">@ TOKEN_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/wren__compiler_8c_source.html#l00137">wren_compiler.c:137</a></div></div>
<div class="ttc" id="awren__compiler_8c_html_ac20f67474558b6bf12fd74dd573ee7af"><div class="ttname"><a href="../../d4/de2/wren__compiler_8c.html#ac20f67474558b6bf12fd74dd573ee7af">expression</a></div><div class="ttdeci">static void expression(Compiler *compiler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/wren__compiler_8c_source.html#l02855">wren_compiler.c:2855</a></div></div>
<div class="ttc" id="awren__compiler_8c_html_acbf1748d7e097833a292ee0caaa50d05"><div class="ttname"><a href="../../d4/de2/wren__compiler_8c.html#acbf1748d7e097833a292ee0caaa50d05">ignoreNewlines</a></div><div class="ttdeci">static void ignoreNewlines(Compiler *compiler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/wren__compiler_8c_source.html#l01290">wren_compiler.c:1290</a></div></div>
<div class="ttc" id="awren__compiler_8c_html_ae74f1b74c02154518d7162a728d6118a"><div class="ttname"><a href="../../d4/de2/wren__compiler_8c.html#ae74f1b74c02154518d7162a728d6118a">error</a></div><div class="ttdeci">static void error(Compiler *compiler, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/wren__compiler_8c_source.html#l00459">wren_compiler.c:459</a></div></div>
<div class="ttc" id="awren__compiler_8c_html_aed515d74eb0faafbaa8d63f05daf90b9"><div class="ttname"><a href="../../d4/de2/wren__compiler_8c.html#aed515d74eb0faafbaa8d63f05daf90b9">consume</a></div><div class="ttdeci">static void consume(Compiler *compiler, TokenType expected, const char *errorMessage)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/wren__compiler_8c_source.html#l01266">wren_compiler.c:1266</a></div></div>
<div class="ttc" id="awren__compiler_8c_html_af4fe195796c3e700b61d62dafd263295"><div class="ttname"><a href="../../d4/de2/wren__compiler_8c.html#af4fe195796c3e700b61d62dafd263295">match</a></div><div class="ttdeci">static bool match(Compiler *compiler, TokenType expected)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/wren__compiler_8c_source.html#l01257">wren_compiler.c:1257</a></div></div>
<div class="ttc" id="awren__compiler_8c_html_aff9308c9745d77724d06dbc7f1e7bd34"><div class="ttname"><a href="../../d4/de2/wren__compiler_8c.html#aff9308c9745d77724d06dbc7f1e7bd34">nextToken</a></div><div class="ttdeci">static void nextToken(Parser *parser)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/wren__compiler_8c_source.html#l01051">wren_compiler.c:1051</a></div></div>
<div class="ttc" id="awren__compiler_8h_html_a49ab53997891041cac4a764241f75e81"><div class="ttname"><a href="../../d7/db9/wren__compiler_8h.html#a49ab53997891041cac4a764241f75e81">Compiler</a></div><div class="ttdeci">struct sCompiler Compiler</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db9/wren__compiler_8h_source.html#l00001">wren_compiler.h:7</a></div></div>
<div class="ttc" id="awren__value_8h_html_a07ae6a286fd2358c66dad2df086ca785"><div class="ttname"><a href="../../d2/d0a/wren__value_8h.html#a07ae6a286fd2358c66dad2df086ca785">UNDEFINED_VAL</a></div><div class="ttdeci">#define UNDEFINED_VAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0a/wren__value_8h_source.html#l00591">wren_value.h:591</a></div></div>
<div class="ttc" id="awren__value_8h_html_a254dfa03c8d1065fcef554fc8763e65f"><div class="ttname"><a href="../../d2/d0a/wren__value_8h.html#a254dfa03c8d1065fcef554fc8763e65f">AS_NUM</a></div><div class="ttdeci">#define AS_NUM(value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0a/wren__value_8h_source.html#l00058">wren_value.h:58</a></div></div>
<div class="ttc" id="awren__value_8h_html_a513670ecdc3cb3fce1d696b5892aa691"><div class="ttname"><a href="../../d2/d0a/wren__value_8h.html#a513670ecdc3cb3fce1d696b5892aa691">IS_NUM</a></div><div class="ttdeci">#define IS_NUM(value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0a/wren__value_8h_source.html#l00559">wren_value.h:559</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/d0a/wren__value_8h_source.html#l00058">AS_NUM</a>, <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l01266">consume()</a>, <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l03727">definition()</a>, <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l01324">emitOp()</a>, <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l01661">endCompiler()</a>, <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l00459">error()</a>, <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l02855">expression()</a>, <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l01290">ignoreNewlines()</a>, <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l00532">initCompiler()</a>, <a class="el" href="../../d2/d0a/wren__value_8h_source.html#l00559">IS_NUM</a>, <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l01257">match()</a>, <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l01281">matchLine()</a>, <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l01051">nextToken()</a>, <a class="el" href="../../da/d2d/_stdio_stream_8h_source.html#l00092">NULL</a>, <a class="el" href="../../dd/df8/lz4_8h_source.html#l00699">source</a>, <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l00138">TOKEN_EOF</a>, <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l00137">TOKEN_ERROR</a>, <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l00114">TOKEN_NAME</a>, <a class="el" href="../../d2/d0a/wren__value_8h_source.html#l00591">UNDEFINED_VAL</a>, and <a class="el" href="../../d2/d0a/wren__value_8h_source.html#l00229">ObjModule::variables</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/db2/wren__vm_8c_source.html#l00453">compileInModule()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db9/wren__compiler_8h_aedcc023430c3c9b1891dbdc4f7b8f0b8_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db9/wren__compiler_8h_aedcc023430c3c9b1891dbdc4f7b8f0b8_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ae9fe190a3aeb1626737b30b2c4f90f0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9fe190a3aeb1626737b30b2c4f90f0a">&#9670;&nbsp;</a></span>wrenMarkCompiler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wrenMarkCompiler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/ddb/struct_wren_v_m.html">WrenVM</a> *&#160;</td>
          <td class="paramname"><em>vm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/db9/wren__compiler_8h.html#a49ab53997891041cac4a764241f75e81">Compiler</a> *&#160;</td>
          <td class="paramname"><em>compiler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/de2/wren__compiler_8c_source.html#l03904">3904</a> of file <a class="el" href="../../d4/de2/wren__compiler_8c_source.html">wren_compiler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;{</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;  <a class="code" href="../../da/dbe/wren__value_8c.html#a9ee197ffca886cf280c83092383cc361">wrenGrayValue</a>(vm, compiler-&gt;parser-&gt;current.value);</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;  <a class="code" href="../../da/dbe/wren__value_8c.html#a9ee197ffca886cf280c83092383cc361">wrenGrayValue</a>(vm, compiler-&gt;parser-&gt;previous.value);</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;  <a class="code" href="../../da/dbe/wren__value_8c.html#a9ee197ffca886cf280c83092383cc361">wrenGrayValue</a>(vm, compiler-&gt;parser-&gt;next.value);</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160; </div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;  <span class="comment">// Walk up the parent chain to mark the outer compilers too. The VM only</span></div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;  <span class="comment">// tracks the innermost one.</span></div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;  <span class="keywordflow">do</span></div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;  {</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;    <a class="code" href="../../da/dbe/wren__value_8c.html#a7b9e6e22f2376aaa1ecaef9e741646fa">wrenGrayObj</a>(vm, (<a class="code" href="../../d6/d93/structs_obj.html">Obj</a>*)compiler-&gt;fn);</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;    <a class="code" href="../../da/dbe/wren__value_8c.html#a7b9e6e22f2376aaa1ecaef9e741646fa">wrenGrayObj</a>(vm, (<a class="code" href="../../d6/d93/structs_obj.html">Obj</a>*)compiler-&gt;constants);</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;    <a class="code" href="../../da/dbe/wren__value_8c.html#a7b9e6e22f2376aaa1ecaef9e741646fa">wrenGrayObj</a>(vm, (<a class="code" href="../../d6/d93/structs_obj.html">Obj</a>*)compiler-&gt;attributes);</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;    </div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;    <span class="keywordflow">if</span> (compiler-&gt;enclosingClass != <a class="code" href="../../da/d2d/_stdio_stream_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;    {</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;      <a class="code" href="../../de/d0d/wren__utils_8c.html#ae1d6dc2bc8c7ced1c6a1dcf9afc16110">wrenBlackenSymbolTable</a>(vm, &amp;compiler-&gt;enclosingClass-&gt;fields);</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160; </div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;      <span class="keywordflow">if</span>(compiler-&gt;enclosingClass-&gt;methodAttributes != <a class="code" href="../../da/d2d/_stdio_stream_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) </div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;      {</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;        <a class="code" href="../../da/dbe/wren__value_8c.html#a7b9e6e22f2376aaa1ecaef9e741646fa">wrenGrayObj</a>(vm, (<a class="code" href="../../d6/d93/structs_obj.html">Obj</a>*)compiler-&gt;enclosingClass-&gt;methodAttributes);</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;      }</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;      <span class="keywordflow">if</span>(compiler-&gt;enclosingClass-&gt;classAttributes != <a class="code" href="../../da/d2d/_stdio_stream_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) </div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;      {</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;        <a class="code" href="../../da/dbe/wren__value_8c.html#a7b9e6e22f2376aaa1ecaef9e741646fa">wrenGrayObj</a>(vm, (<a class="code" href="../../d6/d93/structs_obj.html">Obj</a>*)compiler-&gt;enclosingClass-&gt;classAttributes);</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;      }</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;    }</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;    </div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;    compiler = compiler-&gt;parent;</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;  }</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;  <span class="keywordflow">while</span> (compiler != <a class="code" href="../../da/d2d/_stdio_stream_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;}</div>
<div class="ttc" id="astructs_obj_html"><div class="ttname"><a href="../../d6/d93/structs_obj.html">sObj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0a/wren__value_8h_source.html#l00109">wren_value.h:110</a></div></div>
<div class="ttc" id="awren__utils_8c_html_ae1d6dc2bc8c7ced1c6a1dcf9afc16110"><div class="ttname"><a href="../../de/d0d/wren__utils_8c.html#ae1d6dc2bc8c7ced1c6a1dcf9afc16110">wrenBlackenSymbolTable</a></div><div class="ttdeci">void wrenBlackenSymbolTable(WrenVM *vm, SymbolTable *symbolTable)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d0d/wren__utils_8c_source.html#l00056">wren_utils.c:56</a></div></div>
<div class="ttc" id="awren__value_8c_html_a7b9e6e22f2376aaa1ecaef9e741646fa"><div class="ttname"><a href="../../da/dbe/wren__value_8c.html#a7b9e6e22f2376aaa1ecaef9e741646fa">wrenGrayObj</a></div><div class="ttdeci">void wrenGrayObj(WrenVM *vm, Obj *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/wren__value_8c_source.html#l00976">wren_value.c:976</a></div></div>
<div class="ttc" id="awren__value_8c_html_a9ee197ffca886cf280c83092383cc361"><div class="ttname"><a href="../../da/dbe/wren__value_8c.html#a9ee197ffca886cf280c83092383cc361">wrenGrayValue</a></div><div class="ttdeci">void wrenGrayValue(WrenVM *vm, Value value)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/wren__value_8c_source.html#l00999">wren_value.c:999</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d2d/_stdio_stream_8h_source.html#l00092">NULL</a>, <a class="el" href="../../de/d0d/wren__utils_8c_source.html#l00056">wrenBlackenSymbolTable()</a>, <a class="el" href="../../da/dbe/wren__value_8c_source.html#l00976">wrenGrayObj()</a>, and <a class="el" href="../../da/dbe/wren__value_8c_source.html#l00999">wrenGrayValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/db2/wren__vm_8c_source.html#l00125">wrenCollectGarbage()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/db9/wren__compiler_8h_ae9fe190a3aeb1626737b30b2c4f90f0a_cgraph.svg" width="576" height="144"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db9/wren__compiler_8h_ae9fe190a3aeb1626737b30b2c4f90f0a_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_607444457ce7ff98031c3752bb27f7b6.html">ERISCore</a></li><li class="navelem"><a class="el" href="../../dir_5b5543e87200f107623567781f7f5b13.html">lib</a></li><li class="navelem"><a class="el" href="../../dir_d921a9989195241ee3ffeeb054317b0b.html">wren</a></li><li class="navelem"><a class="el" href="../../dir_917fe7b91870e398d310fc553a9da786.html">src</a></li><li class="navelem"><a class="el" href="../../d7/db9/wren__compiler_8h.html">wren_compiler.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
