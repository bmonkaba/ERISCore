<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ERIS CORE: 3-0.4.0-released</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ERIS CORE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d7/dfb/md__e_r_i_s_core_lib_wren_doc_site_blog_3_0_4_0_released.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">3-0.4.0-released </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>^title 0.4.0 released! 8 April 2021</p>
<hr  />
<p>This post is all about the 0.4.0 release since it's a big one! <br  />
 <small>(A separate post for 0.5.0 goals would likely come later.)</small></p>
<h2><a class="anchor" id="autotoc_md161"></a>
0.4.0 details</h2>
<p><b>0.4.0 contains 145 commits from 28 contributors.</b></p>
<p>The <a href="https://github.com/wren-lang/wren/releases/tag/0.4.0">full release notes</a> link to each PR or commit, and contains a lot more details than this post.</p>
<p><b>Goals</b> <br  />
 As usual, let's revisit the goals from the <a href="../../2-0.3.0-released.html#goals-for-0.4.0">0.3.0 post</a>.</p>
<p>Most importantly - compound operators didn't land in 0.4.0 for various reasons. Still working on it, it's just a fun and nuanced problem and I don't want to keep 0.4.0 back cos of it.</p>
<p>With that out the way, let's see what 0.4.0 contains!</p>
<h2><a class="anchor" id="autotoc_md162"></a>
0.4.0 highlights</h2>
<p>Below we'll highlight some key features, fixes and improvements from the release.</p>
<p><b>A lot of work came from the community, much thanks to everyone contributing!</b></p>
<p>You can find all the details and the contributions in the <a href="https://github.com/wren-lang/wren/releases/tag/0.4.0">release notes</a>.</p>
<p><b>Take note!</b> There are two minor breaking changes in the API on the release notes.</p>
<hr  />
<h3><a class="anchor" id="autotoc_md164"></a>
Bug fixes</h3>
<p>Several important bugs have been fixed, sneaky stack corruptions and some user experience fixes that clarify confusing states.</p>
<h3><a class="anchor" id="autotoc_md165"></a>
Documentation</h3>
<p>A lot of work has gone into documentation this release, revising, fixing, adding and closing gaps that were left. For example, Wren supports multi-line strings but this was never mentioned anywhere!</p>
<h3><a class="anchor" id="autotoc_md166"></a>
New &lt;strong&gt;continue&lt;/strong&gt; keyword</h3>
<p>Loops can now use continue, which is a welcome addition.</p>
<h3><a class="anchor" id="autotoc_md167"></a>
New &lt;strong&gt;as&lt;/strong&gt; keyword</h3>
<p>You can now use <code>import "..." for Name as OtherName</code> to avoid name conflicts, or to use aliases/shorthand for imported variables.</p>
<h3><a class="anchor" id="autotoc_md168"></a>
Raw strings</h3>
<p>Wren now supports triple quotes for a string <code>"""</code>.</p>
<p>This type of string is only unique in how it's parsed, the content of the string is ignored (no interpolation or escapes are processed), which allows complex strings to be expressed without needing to escape things.</p>
<p>A common example is json or regex, where there's a lot of escaping that obscures the string content and makes it hard to read and maintain.</p>
<p>If they span multiple lines, the string ignores the open and closing newlines and whitespace and preserves anything in between.</p>
<pre class="snippet">
var json = """
  {
    "hello": "wren",
    "from" : "json"
  }
"""
</pre><h3><a class="anchor" id="autotoc_md169"></a>
Attributes</h3>
<p>Attributes are user-defined metadata associated with a class or method that can be used at runtime, by external tools (and potentially by Wren itself).</p>
<pre class="snippet">
#hidden = true
#doc = "A simple example class"
class Example {}
</pre><p>They can be:</p>
<ul>
<li>a <code>#key</code> on it's own</li>
<li>a <code>#key = value</code></li>
<li>a <code>#group(with, multiple = true, keys = "value")</code></li>
</ul>
<p><b>Example</b> <br  />
</p>
<p>Below you can one obvious use case, a wip version where attributes for docs were parsed and sent over to <a href="https://code.visualstudio.com/">vscode</a> to display.</p>
<p>&lt;video preload="auto" controls="" loop="loop" style="max-width:100%; width:auto; margin:auto; display:block;"&gt; <br  />
 &lt;source src="https://i.imgur.com/W9DWysP.mp4" type="video/mp4"&gt; &lt;/video&gt;</p>
<p><b>Runtime access</b> <br  />
 By default, attributes are compiled out and ignored. For an attribute to be visible at runtime, mark it for runtime access using an exclamation:</p>
<pre class="snippet">
#doc = "not runtime data"
#!runtimeAccess = true
#!maxIterations = 16
</pre><p>Attributes at runtime are stored on the class itself. You can access them via <code>YourClass.attributes</code>. If any attributes are made available, they'll be found here:</p>
<ul>
<li><code>YourClass.attributes.self</code> for the class attributes</li>
<li><code>YourClass.attributes.methods</code> for the method attributes</li>
</ul>
<p>All the details for <a href="https://wren.io/classes.html#attributes">Attributes can be found here</a>.</p>
<h3><a class="anchor" id="autotoc_md170"></a>
Chained methods fixes ('fluent interfaces')</h3>
<p>Mentioned in the last post, you can now use this pattern in code as intended, the same-line requirement for the <code>.</code> has been removed.</p>
<pre class="snippet">
  example
    .some()
    .functions()
    .<a class="el" href="../../d0/de9/receiver-less_01calls_012_8txt.html#a64dabd50289685168f7b46f497df2b60">here()</a>
</pre><h3><a class="anchor" id="autotoc_md171"></a>
List additions</h3>
<p>Lists are now sortable via <code>list.sort()</code> and <code>list.sort {|a, b| ... }</code>. You can find an index of something via <code>list.indexOf(value)</code>, and remove a value via <code>list.remove(value)</code>. There's also <code>list.swap(index0, index1)</code> for moving items around within a list.</p>
<p>For the API, <code>wrenSetListElement</code> now exists, and both set and <code>wrenGetListElement</code> now accept negative indices same as the language side.</p>
<h3><a class="anchor" id="autotoc_md172"></a>
Num additions</h3>
<p>A few new constants:</p>
<ul>
<li><code>Num.tau</code></li>
<li><code>Num.nan</code></li>
<li><code>Num.infinity</code></li>
<li><code>Num.minSafeInteger</code>/<code>Num.maxSafeInteger</code></li>
</ul>
<p>And some new methods on a number:</p>
<ul>
<li><code>num.min(other)</code></li>
<li><code>num.max(other)</code></li>
<li><code>num.clamp(min, max)</code></li>
<li><code>num.cbrt</code></li>
<li><code>num.exp</code></li>
<li><code>num.log2</code></li>
</ul>
<h3><a class="anchor" id="autotoc_md173"></a>
Map access from the API</h3>
<p>You can now create and access maps from the API:</p>
<ul>
<li><code>wrenSetSlotNewMap</code></li>
<li><code>wrenGetMapCount</code></li>
<li><code>wrenGetMapContainsKey</code></li>
<li><code>wrenGetMapValue</code></li>
<li><code>wrenSetMapValue</code></li>
<li><code>wrenRemoveMapValue</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md174"></a>
Till next time</h2>
<hr  />
<ul>
<li><a href="http://wren.io/blog/rss.xml">The Wren Blog RSS</a></li>
<li>Join the <a href="https://discord.gg/Kx6PxSX">discord community</a></li>
<li>Visit the <a href="https://github.com/wren-lang">wren-lang organization</a> on GitHub to get involved.</li>
<li>Follow the developers <a href="https://twitter.com/munificentbob">@munificentbob</a> or <a href="https://twitter.com/ruby0x1">@ruby0x1</a> on twitter </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
