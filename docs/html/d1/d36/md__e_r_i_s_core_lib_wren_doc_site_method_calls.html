<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ERIS CORE: method-calls</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ERIS CORE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d1/d36/md__e_r_i_s_core_lib_wren_doc_site_method_calls.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">method-calls </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>^title <a class="el" href="../../d4/d3e/struct_method.html">Method</a> Calls</p>
<p>Wren is deeply object oriented, so most code consists of invoking methods on objects, usually something like this:</p>
<pre class="snippet">
System.print("Heyoo!") //&gt; Heyoo!
</pre><p>You have a <em>receiver</em> expression (here <code>System</code>) followed by a <code>.</code>, then a name (<code>print</code>) and an argument list in parentheses (<code>("Heyoo!")</code>). Multiple arguments are separated by commas:</p>
<pre class="snippet">
list.insert(3, "item")
</pre><p>The argument list can also be empty:</p>
<pre class="snippet">
list.clear()
</pre><p>The VM executes a method call like so:</p>
<ol type="1">
<li>Evaluate the receiver and arguments from left to right.</li>
<li>Look up the method on the receiver's <a href="../../classes.html">class</a>.</li>
<li>Invoke it, passing in the argument values.</li>
</ol>
<h2><a class="anchor" id="autotoc_md261"></a>
Signature</h2>
<p>Unlike most other dynamically-typed languages, in Wren a class can have multiple methods with the same <em>name</em>, as long as they have different <em>signatures</em>. The signature includes the method's name along with the number of arguments it takes. In technical terms, this means you can <em>overload by arity</em>.</p>
<p>For example, the <a href="../../modules/random/random.html">Random</a> class has two methods for getting a random integer. One takes a minimum and maximum value and returns a value in that range. The other only takes a maximum value and uses 0 as the minimum:</p>
<pre class="snippet">
var random = Random.new()
random.int(3, 10)
random.int(4)
</pre><p>In a language like Python or JavaScript, these would both call a single <code>int()</code> method, which has some kind of "optional" parameter. The body of the method figures out how many arguments were passed and uses control flow to handle the two different behaviors. That means first parameter represents "max unless
another parameter was passed, in which case it's min".</p>
<p>This type of 'variadic' code isn't ideal, so Wren doesn't encourage it.</p>
<p>In Wren, these are calls to two entirely separate methods, <code>int(_,_)</code> and <code>int(_)</code>. This makes it easier to define "overloads" like this since you don't need optional parameters or any kind of control flow to handle the different cases.</p>
<p>It's also faster to execute. Since we know how many arguments are passed at compile time, we can compile this to directly call the right method and avoid any "if I got two arguments do this..." runtime work.</p>
<h2><a class="anchor" id="autotoc_md262"></a>
Getters</h2>
<p>Some methods exist to expose a stored or computed property of an object. These are <em>getters</em> and have no parentheses:</p>
<pre class="snippet">
"string".count    //&gt; 6
(1..10).min       //&gt; 1
1.23.sin          //&gt; 0.9424888019317
[1, 2, 3].isEmpty //&gt; false
</pre><p>A getter is <em>not</em> the same as a method with an empty argument list. The <code>()</code> is part of the signature, so <code>count</code> and <code><a class="el" href="../../d9/dfc/_sd_error_codes_8txt.html#a7e2759cf3ce335c21536207b75f30161">count()</a></code> have different signatures. Unlike Ruby's optional parentheses, Wren wants to make sure you call a getter like a getter and a <code>()</code> method like a <code>()</code> method. These don't work:</p>
<pre class="snippet">
"string".<a class="el" href="../../d9/dfc/_sd_error_codes_8txt.html#a7e2759cf3ce335c21536207b75f30161">count()</a>
[1, 2, 3].clear
</pre><p>If you're defining some member that doesn't need any parameters, you need to decide if it should be a getter or a method with an empty <code>()</code> parameter list. The general guidelines are:</p>
<ul>
<li>If it modifies the object or has some other side effect, make it a method:</li>
</ul>
<pre class="snippet">
list.clear()
</pre><ul>
<li>If the method supports multiple arities, make the zero-parameter case a <code>()</code> method to be consistent with the other versions:</li>
</ul>
<pre class="snippet">
Fiber.yield()
Fiber.yield("value")
</pre><ul>
<li>Otherwise, it can probably be a getter.</li>
</ul>
<h2><a class="anchor" id="autotoc_md263"></a>
Setters</h2>
<p>A getter lets an object expose a public "property" that you can <em>read</em>. Likewise, a <em>setter</em> lets you write to a property:</p>
<pre class="snippet">
person.height = 74 // Grew up!
</pre><p>Despite the <code>=</code>, this is just another syntax for a method call. From the language's perspective, the above line is just a call to the <code>height=(_)</code> method on <code>person</code>, passing in <code>74</code>.</p>
<p>Since the <code>=(_)</code> is in the setter's signature, an object can have both a getter and setter with the same name without a collision. Defining both lets you provide a read/write property.</p>
<h2><a class="anchor" id="autotoc_md264"></a>
Operators</h2>
<p>Wren has most of the same operators you know and love with the same precedence and associativity. We have three prefix operators:</p>
<pre class="snippet">
! ~ -
</pre><p>They are just method calls on their operand without any other arguments. An expression like <code>!possible</code> means "call the `!` method on `possible`".</p>
<p>We also have a slew of infix operators&mdash;they have operands on both sides. They are:</p>
<pre class="snippet">
* / % + - .. ... &lt;&lt; &gt;&gt; &lt; &lt;= &gt; &gt;= == != &amp; ^ | is
</pre><p>Like prefix operators, they are all funny ways of writing method calls. The left operand is the receiver, and the right operand gets passed to it. So <code>a + b</code> is semantically interpreted as "invoke the `+(_)` method on `a`, passing it `b`".</p>
<p>Note that <code>-</code> is both a prefix and an infix operator. Since they have different signatures (<code>-</code> and <code>-(_)</code>), there's no ambiguity between them.</p>
<p>Most of these are probably familiar already. The <code>..</code> and <code>...</code> operators are "range" operators. The number type implements those to create <a href="../../values.html#ranges">range</a> objects, but they are method calls like other operators.</p>
<p>The <code>is</code> keyword is a "type test" operator. The base <a href="../../modules/core/object.html">Object</a> class implements it to tell if an object is an instance of a given class. You'll rarely need to, but you can override <code>is</code> in your own classes. That can be useful for things like mocks or proxies where you want an object to masquerade as a certain class.</p>
<h2><a class="anchor" id="autotoc_md265"></a>
Subscripts</h2>
<p>Another familiar syntax from math is <em>subscripting</em> using square brackets (<code>[]</code>). It's handy for working with collection-like objects. For example:</p>
<pre class="snippet">
list[0]    // Get the first item in a list.
map["key"] // Get the value associated with "key".
</pre><p>You know the refrain by now. In Wren, these are method calls. In the above examples, the signature is <code>[_]</code>. Subscript operators may also take multiple arguments, which is useful for things like multi-dimensional arrays:</p>
<pre class="snippet">
matrix[3, 5]
</pre><p>These examples are subscript "getters", and there are also corresponding <em>subscript setters</em>:</p>
<pre class="snippet">
list[0] = "item"
map["key"] = "value"
</pre><p>These are equivalent to method calls whose signature is <code>[_]=(_)</code> and whose arguments are both the subscript (or subscripts) and the value on the right-hand side.</p>
<p><br  />
</p><hr  />
<p> <a href="../../control-flow.html" class="right">Control Flow &rarr;</a> <a href="../../maps.html">&larr; Maps</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
